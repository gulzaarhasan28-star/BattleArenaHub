
  
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0f172a;
  color:white;
}
.header{
  background:#020617;
  padding:16px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
}
.card{
  background:#020617;
  margin:15px;
  padding:15px;
  border-radius:10px;
}
.label{
  font-size:13px;
  color:#9ca3af;
}
.value{
  font-size:20px;
  font-weight:bold;
  margin-top:4px;
}
button{
  width:90%;
  margin:20px auto;
  display:block;
  padding:14px;
  border:none;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
}
.logout{
  background:#dc2626;
  color:white;
}
</style>
</head>

<body>

<div class="header">ðŸŽ® USER DASHBOARD</div>

<div class="card">
  <div class="label">Name</div>
  <div class="value" id="name">Loading...</div>
</div>

<div class="card">
  <div class="label">Game</div>
  <div class="value" id="game">---</div>
</div>

<div class="card">
  <div class="label">Game ID</div>
  <div class="value" id="gameId">---</div>
</div>

<div class="card">
  <div class="label">Total Coins</div>
  <div class="value" id="coins">0</div>
</div>

<div class="card">
  <div class="label">Weekly Coins</div>
  <div class="value" id="weeklyCoins">0</div>
</div>

<button class="logout" onclick="logout()">Logout</button>

<!-- Firebase -->
<script type="module">
import { auth, db } from "./firebase-config.js";
import { onAuthStateChanged, signOut } 
  from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { doc, getDoc } 
  from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

onAuthStateChanged(auth, async (user)=>{
  if(!user){
    window.location.href = "index.html";
    return;
  }

  const ref = doc(db,"users",user.uid);
  const snap = await getDoc(ref);

  if(!snap.exists()){
    window.location.href = "profile.html";
    return;
  }

  const d = snap.data();

  // Fill UI
  document.getElementById("name").innerText = d.name || "User";
  document.getElementById("game").innerText = d.game || "-";
  document.getElementById("gameId").innerText = d.gameId || "-";
  document.getElementById("coins").innerText = d.coins || 0;
  document.getElementById("weeklyCoins").innerText = d.weeklyCoins || 0;

  // OPTIONAL AUTO ROUTE
  // if(d.game==="BGMI") location.href="bgmi-dashboard.html";
  // if(d.game==="FREE_FIRE") location.href="ff-dashboard.html";
});

window.logout = ()=>{
  signOut(auth).then(()=>{
    window.location.href="index.html";
  });
};
</script>

</body>
</html>
